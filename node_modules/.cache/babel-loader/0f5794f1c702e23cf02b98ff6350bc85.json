{"ast":null,"code":"import _defineProperty from\"C:/Users/Gwen/Documents/GitHub/Ejednevnik/diary/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Gwen/Documents/GitHub/Ejednevnik/diary/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Gwen/Documents/GitHub/Ejednevnik/diary/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import AppBar from\"@mui/material/AppBar\";import Box from\"@mui/material/Box\";import Toolbar from\"@mui/material/Toolbar\";import Typography from\"@mui/material/Typography\";import Button from\"@mui/material/Button\";import IconButton from\"@mui/material/IconButton\";import Modal from\"../../share/component/Modal/Modal\";import{useState}from\"react\";import{shallowEqual,useDispatch,useSelector}from\"react-redux\";import{getLogin}from\"../../redux/auth/auth-selector\";import{login,logout,signup}from\"../../redux/auth/auth-operation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),version=_useState6[0],setVersion=_useState6[1];var dispatch=useDispatch();var userIsLogin=useSelector(getLogin,shallowEqual);var handleOpen=function handleOpen(name){setOpen(true);setVersion(name);};var _handleClose=function handleClose(){return setOpen(false);};var _handleChange=function handleChange(_ref){var target=_ref.target;var name=target.name,value=target.value;setData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},name,value));});};var submitForm=function submitForm(e){e.preventDefault();if(version===\"login\"){return dispatch(login(data));}return dispatch(signup(data));};var logOut=function logOut(){dispatch(logout());};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1},children:/*#__PURE__*/_jsx(AppBar,{position:\"static\",children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(IconButton,{size:\"large\",edge:\"start\",color:\"inherit\",\"aria-label\":\"menu\",sx:{mr:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"div\",sx:{flexGrow:1},children:\"Spends Money\"}),userIsLogin?/*#__PURE__*/_jsx(Button,{color:\"inherit\",onClick:logOut,children:\"logout\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{color:\"inherit\",onClick:function onClick(){return handleOpen(\"login\");},children:\"Login\"}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",onClick:function onClick(){return handleOpen(\"register\");},children:\"register\"})]})]})})}),/*#__PURE__*/_jsx(Modal,{version:version,ModalOpen:open,handleClose:function handleClose(){return _handleClose;},handleChange:function handleChange(){return _handleChange;},handleSumbit:function handleSumbit(){return submitForm;}})]});}export default Header;","map":{"version":3,"names":["AppBar","Box","Toolbar","Typography","Button","IconButton","Modal","useState","shallowEqual","useDispatch","useSelector","getLogin","login","logout","signup","Header","open","setOpen","data","setData","version","setVersion","dispatch","userIsLogin","handleOpen","name","handleClose","handleChange","target","value","prevState","submitForm","e","preventDefault","logOut","flexGrow","mr"],"sources":["C:/Users/Gwen/Documents/GitHub/Ejednevnik/diary/src/components/HeaderComponent/HeaderComponent.jsx"],"sourcesContent":["import AppBar from \"@mui/material/AppBar\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Toolbar from \"@mui/material/Toolbar\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Button from \"@mui/material/Button\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport Modal from \"../../share/component/Modal/Modal\";\r\nimport { useState } from \"react\";\r\n\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { getLogin } from \"../../redux/auth/auth-selector\";\r\n\r\nimport { login, logout, signup } from \"../../redux/auth/auth-operation\";\r\n\r\nfunction Header() {\r\n  const [open, setOpen] = useState(false);\r\n  const [data, setData] = useState(\"\");\r\n  const [version,setVersion]=useState(\"\")\r\n  const dispatch = useDispatch();\r\n  const userIsLogin = useSelector(getLogin, shallowEqual);\r\n  const handleOpen = (name) => {setOpen(true)\r\n    setVersion(name)\r\n  };\r\n  const handleClose = () => setOpen(false);\r\n  const handleChange = ({ target }) => {\r\n    const { name, value } = target;\r\n    setData((prevState) => ({\r\n      ...prevState,\r\n      [name]: value,\r\n    }));\r\n  };\r\n  const submitForm = (e) => {\r\n    e.preventDefault();\r\n\r\n    if(version===\"login\"){\r\n    return  dispatch(login(data));\r\n    }\r\n     return dispatch(signup(data))\r\n  };\r\n const logOut=()=>{\r\n  dispatch(logout())\r\n }\r\n  return (\r\n    <>\r\n      <Box sx={{ flexGrow: 1 }}>\r\n        <AppBar position=\"static\">\r\n          <Toolbar>\r\n            <IconButton\r\n              size=\"large\"\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              aria-label=\"menu\"\r\n              sx={{ mr: 2 }}\r\n            ></IconButton>\r\n            <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n              Spends Money\r\n            </Typography>\r\n            {userIsLogin ? (\r\n              <Button color=\"inherit\" onClick={logOut}>\r\n                logout\r\n              </Button>\r\n            ) : (<>\r\n              <Button color=\"inherit\" onClick={()=>handleOpen(\"login\")} >\r\n                 Login\r\n              </Button>\r\n              <Button color=\"inherit\" onClick={()=>handleOpen(\"register\")}>\r\n                 register\r\n              </Button></>\r\n            )}\r\n          </Toolbar>\r\n        </AppBar>\r\n      </Box>\r\n      <Modal\r\n        version={version}\r\n        ModalOpen={open}\r\n        handleClose={() => handleClose}\r\n        handleChange={() => handleChange}\r\n        handleSumbit={() => submitForm}\r\n      />\r\n    </>\r\n  );\r\n}\r\nexport default Header;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}