{"ast":null,"code":"import { createAsyncThunk } from '@reduxjs/toolkit';\nimport authApi from '../../share/auth';\nexport const signup = createAsyncThunk(\"auth/signup\", async (data, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n\n  try {\n    const result = await authApi.signup(data);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\nexport const login = createAsyncThunk(\"auth/login\", async (data, _ref2) => {\n  let {\n    rejectWithValue\n  } = _ref2;\n\n  try {\n    const result = await authApi.login(data);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\nexport const logout = createAsyncThunk(\"auth/logout\", async (_, _ref3) => {\n  let {\n    rejectWithValue\n  } = _ref3;\n\n  try {\n    const result = await authApi.logout();\n    return result;\n  } catch (error) {\n    // console.log(error);\n    return rejectWithValue(error);\n  }\n});\nexport const current = createAsyncThunk(\"auth/current\", async (_, _ref4) => {\n  let {\n    getState,\n    rejectWithValue\n  } = _ref4;\n\n  try {\n    const {\n      auth\n    } = getState();\n    const result = await authApi.getCurrent(auth.token);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n}, {\n  condition: (_, _ref5) => {\n    let {\n      getState\n    } = _ref5;\n    const {\n      auth\n    } = getState();\n\n    if (!auth.token) {\n      return false;\n    }\n  }\n});","map":{"version":3,"names":["createAsyncThunk","authApi","signup","data","rejectWithValue","result","error","login","logout","_","current","getState","auth","getCurrent","token","condition"],"sources":["C:/Users/Gwen/Documents/GitHub/Ejednevnik/diary/src/redux/auth/auth-operation.js"],"sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport authApi from '../../share/auth';\r\n\r\n\r\nexport const signup=createAsyncThunk(\r\n    \"auth/signup\",\r\n    async(data,{rejectWithValue})=>{\r\n        try {\r\n            const result=await authApi.signup(data)\r\n            return result\r\n        } catch (error) {\r\n\r\n          return  rejectWithValue(error)\r\n        }\r\n    }\r\n)\r\n\r\n\r\nexport const login=createAsyncThunk(\r\n    \"auth/login\",\r\n    async(data,{rejectWithValue})=>{\r\n        try {\r\n            const result=await authApi.login(data)\r\n            return result\r\n        } catch (error) {\r\n\r\n          return  rejectWithValue(error)\r\n        }\r\n    }\r\n)\r\nexport const logout=createAsyncThunk(\r\n    \"auth/logout\",\r\n    async(_,{rejectWithValue})=>{\r\n        try {\r\n            const result=await authApi.logout()\r\n            return result\r\n        } catch (error) {\r\n            // console.log(error);\r\n          return  rejectWithValue(error)\r\n        }\r\n    }\r\n)\r\n\r\n\r\nexport const current = createAsyncThunk(\r\n    \"auth/current\",\r\n    async (_, {getState, rejectWithValue}) => {\r\n        try {\r\n            const {auth} = getState();\r\n            const result = await authApi.getCurrent(auth.token);\r\n            return result;\r\n        } catch (error) {\r\n            return rejectWithValue(error);\r\n        }\r\n    },\r\n    {\r\n        condition: (_, {getState}) => {\r\n            const {auth} = getState();\r\n            if(!auth.token) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n)"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,kBAAjC;AACA,OAAOC,OAAP,MAAoB,kBAApB;AAGA,OAAO,MAAMC,MAAM,GAACF,gBAAgB,CAChC,aADgC,EAEhC,OAAMG,IAAN,WAA+B;EAAA,IAApB;IAACC;EAAD,CAAoB;;EAC3B,IAAI;IACA,MAAMC,MAAM,GAAC,MAAMJ,OAAO,CAACC,MAAR,CAAeC,IAAf,CAAnB;IACA,OAAOE,MAAP;EACH,CAHD,CAGE,OAAOC,KAAP,EAAc;IAEd,OAAQF,eAAe,CAACE,KAAD,CAAvB;EACD;AACJ,CAV+B,CAA7B;AAcP,OAAO,MAAMC,KAAK,GAACP,gBAAgB,CAC/B,YAD+B,EAE/B,OAAMG,IAAN,YAA+B;EAAA,IAApB;IAACC;EAAD,CAAoB;;EAC3B,IAAI;IACA,MAAMC,MAAM,GAAC,MAAMJ,OAAO,CAACM,KAAR,CAAcJ,IAAd,CAAnB;IACA,OAAOE,MAAP;EACH,CAHD,CAGE,OAAOC,KAAP,EAAc;IAEd,OAAQF,eAAe,CAACE,KAAD,CAAvB;EACD;AACJ,CAV8B,CAA5B;AAYP,OAAO,MAAME,MAAM,GAACR,gBAAgB,CAChC,aADgC,EAEhC,OAAMS,CAAN,YAA4B;EAAA,IAApB;IAACL;EAAD,CAAoB;;EACxB,IAAI;IACA,MAAMC,MAAM,GAAC,MAAMJ,OAAO,CAACO,MAAR,EAAnB;IACA,OAAOH,MAAP;EACH,CAHD,CAGE,OAAOC,KAAP,EAAc;IACZ;IACF,OAAQF,eAAe,CAACE,KAAD,CAAvB;EACD;AACJ,CAV+B,CAA7B;AAcP,OAAO,MAAMI,OAAO,GAAGV,gBAAgB,CACnC,cADmC,EAEnC,OAAOS,CAAP,YAA0C;EAAA,IAAhC;IAACE,QAAD;IAAWP;EAAX,CAAgC;;EACtC,IAAI;IACA,MAAM;MAACQ;IAAD,IAASD,QAAQ,EAAvB;IACA,MAAMN,MAAM,GAAG,MAAMJ,OAAO,CAACY,UAAR,CAAmBD,IAAI,CAACE,KAAxB,CAArB;IACA,OAAOT,MAAP;EACH,CAJD,CAIE,OAAOC,KAAP,EAAc;IACZ,OAAOF,eAAe,CAACE,KAAD,CAAtB;EACH;AACJ,CAVkC,EAWnC;EACIS,SAAS,EAAE,CAACN,CAAD,YAAmB;IAAA,IAAf;MAACE;IAAD,CAAe;IAC1B,MAAM;MAACC;IAAD,IAASD,QAAQ,EAAvB;;IACA,IAAG,CAACC,IAAI,CAACE,KAAT,EAAgB;MACZ,OAAO,KAAP;IACH;EACJ;AANL,CAXmC,CAAhC"},"metadata":{},"sourceType":"module"}