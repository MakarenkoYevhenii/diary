{"ast":null,"code":"import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { Login } from '../../share/Money';\nexport const signup = createAsyncThunk(\"auth/signup\", async (data, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n\n  try {\n    const result = await authApi.signup(data);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\nexport const login = createAsyncThunk(\"auth/login\", async (data, _ref2) => {\n  let {\n    rejectWithValue\n  } = _ref2;\n\n  try {\n    const result = await Login(data);\n    console.log(result);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\nexport const logout = createAsyncThunk(\"auth/logout\", async (_, _ref3) => {\n  let {\n    rejectWithValue\n  } = _ref3;\n\n  try {\n    const result = await authApi.logout();\n    return result;\n  } catch (error) {\n    console.log(error);\n    return rejectWithValue(error);\n  }\n});\nexport const current = createAsyncThunk(\"auth/current\", async (_, _ref4) => {\n  let {\n    getState,\n    rejectWithValue\n  } = _ref4;\n\n  try {\n    const {\n      auth\n    } = getState();\n    const result = await authApi.getCurrent(auth.token);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n}, {\n  condition: (_, _ref5) => {\n    let {\n      getState\n    } = _ref5;\n    const {\n      auth\n    } = getState();\n\n    if (!auth.token) {\n      return false;\n    }\n  }\n});","map":{"version":3,"names":["createAsyncThunk","Login","signup","data","rejectWithValue","result","authApi","error","login","console","log","logout","_","current","getState","auth","getCurrent","token","condition"],"sources":["C:/Users/Gwen/Documents/GitHub/Ejednevnik/diary/src/redux/auth/auth-operation.js"],"sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport {Login} from '../../share/Money';\r\n\r\n\r\nexport const signup=createAsyncThunk(\r\n    \"auth/signup\",\r\n    async(data,{rejectWithValue})=>{\r\n        try {\r\n            const result=await authApi.signup(data)\r\n            return result\r\n        } catch (error) {\r\n\r\n          return  rejectWithValue(error)\r\n        }\r\n    }\r\n)\r\n\r\n\r\nexport const login=createAsyncThunk(\r\n    \"auth/login\",\r\n    async(data,{rejectWithValue})=>{\r\n        try {\r\n            const result=await Login(data)\r\n            console.log(result);\r\n            return result\r\n        } catch (error) {\r\n\r\n          return  rejectWithValue(error)\r\n        }\r\n    }\r\n)\r\nexport const logout=createAsyncThunk(\r\n    \"auth/logout\",\r\n    async(_,{rejectWithValue})=>{\r\n        try {\r\n            const result=await authApi.logout()\r\n\r\n            return result\r\n        } catch (error) {\r\n            console.log(error);\r\n          return  rejectWithValue(error)\r\n        }\r\n    }\r\n)\r\n\r\n\r\nexport const current = createAsyncThunk(\r\n    \"auth/current\",\r\n    async (_, {getState, rejectWithValue}) => {\r\n        try {\r\n            const {auth} = getState();\r\n            const result = await authApi.getCurrent(auth.token);\r\n            return result;\r\n        } catch (error) {\r\n            return rejectWithValue(error);\r\n        }\r\n    },\r\n    {\r\n        condition: (_, {getState}) => {\r\n            const {auth} = getState();\r\n            if(!auth.token) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n)"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,kBAAjC;AACA,SAAQC,KAAR,QAAoB,mBAApB;AAGA,OAAO,MAAMC,MAAM,GAACF,gBAAgB,CAChC,aADgC,EAEhC,OAAMG,IAAN,WAA+B;EAAA,IAApB;IAACC;EAAD,CAAoB;;EAC3B,IAAI;IACA,MAAMC,MAAM,GAAC,MAAMC,OAAO,CAACJ,MAAR,CAAeC,IAAf,CAAnB;IACA,OAAOE,MAAP;EACH,CAHD,CAGE,OAAOE,KAAP,EAAc;IAEd,OAAQH,eAAe,CAACG,KAAD,CAAvB;EACD;AACJ,CAV+B,CAA7B;AAcP,OAAO,MAAMC,KAAK,GAACR,gBAAgB,CAC/B,YAD+B,EAE/B,OAAMG,IAAN,YAA+B;EAAA,IAApB;IAACC;EAAD,CAAoB;;EAC3B,IAAI;IACA,MAAMC,MAAM,GAAC,MAAMJ,KAAK,CAACE,IAAD,CAAxB;IACAM,OAAO,CAACC,GAAR,CAAYL,MAAZ;IACA,OAAOA,MAAP;EACH,CAJD,CAIE,OAAOE,KAAP,EAAc;IAEd,OAAQH,eAAe,CAACG,KAAD,CAAvB;EACD;AACJ,CAX8B,CAA5B;AAaP,OAAO,MAAMI,MAAM,GAACX,gBAAgB,CAChC,aADgC,EAEhC,OAAMY,CAAN,YAA4B;EAAA,IAApB;IAACR;EAAD,CAAoB;;EACxB,IAAI;IACA,MAAMC,MAAM,GAAC,MAAMC,OAAO,CAACK,MAAR,EAAnB;IAEA,OAAON,MAAP;EACH,CAJD,CAIE,OAAOE,KAAP,EAAc;IACZE,OAAO,CAACC,GAAR,CAAYH,KAAZ;IACF,OAAQH,eAAe,CAACG,KAAD,CAAvB;EACD;AACJ,CAX+B,CAA7B;AAeP,OAAO,MAAMM,OAAO,GAAGb,gBAAgB,CACnC,cADmC,EAEnC,OAAOY,CAAP,YAA0C;EAAA,IAAhC;IAACE,QAAD;IAAWV;EAAX,CAAgC;;EACtC,IAAI;IACA,MAAM;MAACW;IAAD,IAASD,QAAQ,EAAvB;IACA,MAAMT,MAAM,GAAG,MAAMC,OAAO,CAACU,UAAR,CAAmBD,IAAI,CAACE,KAAxB,CAArB;IACA,OAAOZ,MAAP;EACH,CAJD,CAIE,OAAOE,KAAP,EAAc;IACZ,OAAOH,eAAe,CAACG,KAAD,CAAtB;EACH;AACJ,CAVkC,EAWnC;EACIW,SAAS,EAAE,CAACN,CAAD,YAAmB;IAAA,IAAf;MAACE;IAAD,CAAe;IAC1B,MAAM;MAACC;IAAD,IAASD,QAAQ,EAAvB;;IACA,IAAG,CAACC,IAAI,CAACE,KAAT,EAAgB;MACZ,OAAO,KAAP;IACH;EACJ;AANL,CAXmC,CAAhC"},"metadata":{},"sourceType":"module"}