{"ast":null,"code":"import { createAsyncThunk } from '@reduxjs/toolkit';\nimport authApi from '../../share/auth';\nexport const signup = createAsyncThunk(\"auth/signup\", async (data, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n\n  try {\n    const result = await authApi.Login(data);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\nexport const login = createAsyncThunk(\"auth/login\", async (data, _ref2) => {\n  let {\n    rejectWithValue\n  } = _ref2;\n\n  try {\n    console.log(data);\n    const result = await authApi.login(data);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\nexport const logout = createAsyncThunk(\"auth/logout\", async (_, _ref3) => {\n  let {\n    rejectWithValue\n  } = _ref3;\n\n  try {\n    const result = await authApi.Login();\n    return result;\n  } catch (error) {\n    console.log(error);\n    return rejectWithValue(error);\n  }\n});\nexport const current = createAsyncThunk(\"auth/current\", async (_, _ref4) => {\n  let {\n    getState,\n    rejectWithValue\n  } = _ref4;\n\n  try {\n    const {\n      auth\n    } = getState();\n    const result = await authApi.Login(auth.token);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n}, {\n  condition: (_, _ref5) => {\n    let {\n      getState\n    } = _ref5;\n    const {\n      auth\n    } = getState();\n\n    if (!auth.token) {\n      return false;\n    }\n  }\n});","map":{"version":3,"names":["createAsyncThunk","authApi","signup","data","rejectWithValue","result","Login","error","login","console","log","logout","_","current","getState","auth","token","condition"],"sources":["C:/Users/Gwen/Documents/GitHub/Ejednevnik/diary/src/redux/auth/auth-operation.js"],"sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport authApi from '../../share/auth';\r\n\r\n\r\nexport const signup=createAsyncThunk(\r\n    \"auth/signup\",\r\n    async(data,{rejectWithValue})=>{\r\n        try {\r\n            const result=await authApi.Login(data)\r\n            return result\r\n        } catch (error) {\r\n\r\n          return  rejectWithValue(error)\r\n        }\r\n    }\r\n)\r\n\r\n\r\nexport const login=createAsyncThunk(\r\n    \"auth/login\",\r\n    async(data,{rejectWithValue})=>{\r\n        try {\r\n            console.log(data);\r\n            const result=await authApi.login(data)\r\n            return result\r\n        } catch (error) {\r\n\r\n          return  rejectWithValue(error)\r\n        }\r\n    }\r\n)\r\nexport const logout=createAsyncThunk(\r\n    \"auth/logout\",\r\n    async(_,{rejectWithValue})=>{\r\n        try {\r\n            const result=await authApi.Login()\r\n\r\n            return result\r\n        } catch (error) {\r\n            console.log(error);\r\n          return  rejectWithValue(error)\r\n        }\r\n    }\r\n)\r\n\r\n\r\nexport const current = createAsyncThunk(\r\n    \"auth/current\",\r\n    async (_, {getState, rejectWithValue}) => {\r\n        try {\r\n            const {auth} = getState();\r\n            const result = await authApi.Login(auth.token);\r\n            return result;\r\n        } catch (error) {\r\n            return rejectWithValue(error);\r\n        }\r\n    },\r\n    {\r\n        condition: (_, {getState}) => {\r\n            const {auth} = getState();\r\n            if(!auth.token) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n)"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,kBAAjC;AACA,OAAOC,OAAP,MAAoB,kBAApB;AAGA,OAAO,MAAMC,MAAM,GAACF,gBAAgB,CAChC,aADgC,EAEhC,OAAMG,IAAN,WAA+B;EAAA,IAApB;IAACC;EAAD,CAAoB;;EAC3B,IAAI;IACA,MAAMC,MAAM,GAAC,MAAMJ,OAAO,CAACK,KAAR,CAAcH,IAAd,CAAnB;IACA,OAAOE,MAAP;EACH,CAHD,CAGE,OAAOE,KAAP,EAAc;IAEd,OAAQH,eAAe,CAACG,KAAD,CAAvB;EACD;AACJ,CAV+B,CAA7B;AAcP,OAAO,MAAMC,KAAK,GAACR,gBAAgB,CAC/B,YAD+B,EAE/B,OAAMG,IAAN,YAA+B;EAAA,IAApB;IAACC;EAAD,CAAoB;;EAC3B,IAAI;IACAK,OAAO,CAACC,GAAR,CAAYP,IAAZ;IACA,MAAME,MAAM,GAAC,MAAMJ,OAAO,CAACO,KAAR,CAAcL,IAAd,CAAnB;IACA,OAAOE,MAAP;EACH,CAJD,CAIE,OAAOE,KAAP,EAAc;IAEd,OAAQH,eAAe,CAACG,KAAD,CAAvB;EACD;AACJ,CAX8B,CAA5B;AAaP,OAAO,MAAMI,MAAM,GAACX,gBAAgB,CAChC,aADgC,EAEhC,OAAMY,CAAN,YAA4B;EAAA,IAApB;IAACR;EAAD,CAAoB;;EACxB,IAAI;IACA,MAAMC,MAAM,GAAC,MAAMJ,OAAO,CAACK,KAAR,EAAnB;IAEA,OAAOD,MAAP;EACH,CAJD,CAIE,OAAOE,KAAP,EAAc;IACZE,OAAO,CAACC,GAAR,CAAYH,KAAZ;IACF,OAAQH,eAAe,CAACG,KAAD,CAAvB;EACD;AACJ,CAX+B,CAA7B;AAeP,OAAO,MAAMM,OAAO,GAAGb,gBAAgB,CACnC,cADmC,EAEnC,OAAOY,CAAP,YAA0C;EAAA,IAAhC;IAACE,QAAD;IAAWV;EAAX,CAAgC;;EACtC,IAAI;IACA,MAAM;MAACW;IAAD,IAASD,QAAQ,EAAvB;IACA,MAAMT,MAAM,GAAG,MAAMJ,OAAO,CAACK,KAAR,CAAcS,IAAI,CAACC,KAAnB,CAArB;IACA,OAAOX,MAAP;EACH,CAJD,CAIE,OAAOE,KAAP,EAAc;IACZ,OAAOH,eAAe,CAACG,KAAD,CAAtB;EACH;AACJ,CAVkC,EAWnC;EACIU,SAAS,EAAE,CAACL,CAAD,YAAmB;IAAA,IAAf;MAACE;IAAD,CAAe;IAC1B,MAAM;MAACC;IAAD,IAASD,QAAQ,EAAvB;;IACA,IAAG,CAACC,IAAI,CAACC,KAAT,EAAgB;MACZ,OAAO,KAAP;IACH;EACJ;AANL,CAXmC,CAAhC"},"metadata":{},"sourceType":"module"}