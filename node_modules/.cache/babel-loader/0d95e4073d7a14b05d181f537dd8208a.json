{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gwen\\\\Documents\\\\GitHub\\\\Ejednevnik\\\\diary\\\\src\\\\components\\\\BodyComponent\\\\BodyComponent.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { allMoney, deleteItemFetch } from \"../../share/Money\";\nimport style from \"./Body.module.css\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Paper from \"@mui/material/Paper\";\nimport Button from \"@mui/material/Button\";\nimport { getLogin, getToken, getUser } from \"../../redux/auth/auth-selector\";\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\nimport { current } from \"../../redux/auth/auth-operation\";\nimport InputChange from \"../../share/component/Input/Input\";\nimport { Input } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Body() {\n  _s();\n\n  const [open, setOpen] = useState(false);\n  const [moneyList, setMoney] = useState([]);\n  const [id, setId] = useState(\"\");\n  const userToken = useSelector(getToken, shallowEqual);\n  const loginUser = useSelector(getLogin, shallowEqual);\n\n  const handleOpen = id => {\n    setOpen(true);\n    setId(id);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setId(\"\");\n  };\n\n  const dispatch = useDispatch();\n\n  const makeMoney = async () => {\n    try {\n      dispatch(current());\n      const result = await allMoney(userToken);\n      setMoney(result);\n    } catch (error) {// console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    makeMoney();\n  }, []);\n\n  const deleteItem = e => {\n    deleteItemFetch(e);\n    setMoney(moneyList.filter(id => {\n      return id._id !== e;\n    }));\n  };\n\n  return !loginUser ? \"Loading\" : /*#__PURE__*/_jsxDEV(TableContainer, {\n    component: Paper,\n    children: [/*#__PURE__*/_jsxDEV(Table, {\n      sx: {\n        minWidth: 650\n      },\n      \"aria-label\": \"simple table\",\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"\\u0414\\u0430\\u0442\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"\\u0412\\u0430\\u0436\\u043D\\u043E\\u0441\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"\\u0421\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              onClick: handleOpen,\n              children: \"\\u0434\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u043E\\u0433\\u043E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: moneyList.map(row => /*#__PURE__*/_jsxDEV(TableRow, {\n          sx: {\n            \"&:last-child td, &:last-child th\": {\n              border: 0\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            component: \"th\",\n            scope: \"row\",\n            children: row.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: row.date.substr(0, 10)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: row.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: row.importance\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: row.value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              onClick: () => handleOpen(row._id),\n              children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              onClick: () => deleteItem(row._id),\n              children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this)]\n        }, row._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InputChange, {\n      ModalOpen: open,\n      id: id,\n      handleClose: () => handleClose,\n      fetchNew: () => makeMoney()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Body, \"/TduK2NaMNRDS+ssqegecGiL0X0=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = Body;\nexport default Body;\n\nvar _c;\n\n$RefreshReg$(_c, \"Body\");","map":{"version":3,"names":["useEffect","useState","allMoney","deleteItemFetch","style","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","getLogin","getToken","getUser","shallowEqual","useDispatch","useSelector","current","InputChange","Input","Body","open","setOpen","moneyList","setMoney","id","setId","userToken","loginUser","handleOpen","handleClose","dispatch","makeMoney","result","error","deleteItem","e","filter","_id","minWidth","map","row","border","name","date","substr","description","importance","value"],"sources":["C:/Users/Gwen/Documents/GitHub/Ejednevnik/diary/src/components/BodyComponent/BodyComponent.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { allMoney, deleteItemFetch } from \"../../share/Money\";\r\nimport style from \"./Body.module.css\";\r\n\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { getLogin, getToken, getUser } from \"../../redux/auth/auth-selector\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { current } from \"../../redux/auth/auth-operation\";\r\nimport InputChange from \"../../share/component/Input/Input\";\r\nimport { Input } from \"@mui/material\";\r\n\r\nfunction Body() {\r\n  const [open, setOpen] = useState(false);\r\n  const [moneyList, setMoney] = useState([]);\r\n  const [id, setId] = useState(\"\");\r\n  const userToken = useSelector(getToken, shallowEqual);\r\n  const loginUser = useSelector(getLogin, shallowEqual);\r\n\r\n  const handleOpen = (id) => {\r\n    setOpen(true);\r\n    setId(id);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setId(\"\");\r\n  };\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const makeMoney = async () => {\r\n    try {\r\n      dispatch(current());\r\n      const result = await allMoney(userToken);\r\n      setMoney(result);\r\n    } catch (error) {\r\n      // console.log(error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    makeMoney();\r\n  }, []);\r\n\r\n  const deleteItem = (e) => {\r\n    deleteItemFetch(e);\r\n    setMoney(\r\n      moneyList.filter((id) => {\r\n        return id._id !== e;\r\n      })\r\n    );\r\n  };\r\n\r\n  return !loginUser ? (\r\n    \"Loading\"\r\n  ) : (\r\n    <TableContainer component={Paper}>\r\n      <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Название </TableCell>\r\n            <TableCell align=\"right\">Дата</TableCell>\r\n            <TableCell align=\"right\">Описание</TableCell>\r\n            <TableCell align=\"right\">Важность</TableCell>\r\n            <TableCell align=\"right\">Стоимость </TableCell>\r\n            <TableCell align=\"right\">\r\n              {\" \"}\r\n              <Button variant=\"contained\" onClick={handleOpen}>добавить нового</Button>\r\n            </TableCell>\r\n            <TableCell align=\"right\">\r\n              <Input></Input>\r\n            </TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {moneyList.map((row) => (\r\n            <TableRow\r\n              key={row._id}\r\n              sx={{ \"&:last-child td, &:last-child th\": { border: 0 } }}\r\n            >\r\n              <TableCell component=\"th\" scope=\"row\">\r\n                {row.name}\r\n              </TableCell>\r\n              <TableCell align=\"right\">{row.date.substr(0, 10)}</TableCell>\r\n              <TableCell align=\"right\">{row.description}</TableCell>\r\n              <TableCell align=\"right\">{row.importance}</TableCell>\r\n              <TableCell align=\"right\">{row.value}</TableCell>\r\n              <TableCell align=\"right\">\r\n                <Button variant=\"contained\" onClick={() => handleOpen(row._id)}>\r\n                  Изменить\r\n                </Button>\r\n              </TableCell>\r\n              <TableCell align=\"right\">\r\n                <Button variant=\"outlined\" onClick={() => deleteItem(row._id)}>\r\n                  Удалить\r\n                </Button>{\" \"}\r\n              </TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n      <InputChange\r\n        ModalOpen={open}\r\n        id={id}\r\n        handleClose={() => handleClose}\r\n        fetchNew={() => makeMoney()}\r\n      ></InputChange>\r\n    </TableContainer>\r\n  );\r\n}\r\n\r\nexport default Body;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}